var sliderItems=document.querySelectorAll(".slider__item"),sliderControls=Array.prototype.slice.call(document.querySelectorAll(".slider__controls-btn"));sliderControls.forEach(function(e,a){e.addEventListener("click",function(){for(var e=0;e<sliderControls.length;e++)sliderControls[e].classList.remove("slider__controls-btn--active"),sliderItems[e].classList.remove("slider__item--visible");sliderControls[a].classList.add("slider__controls-btn--active"),sliderItems[a].classList.add("slider__item--visible")})});var featuresTabs=Array.prototype.slice.call(document.querySelectorAll(".features__tabs-item")),featuresTabsBtn=document.querySelectorAll(".features__tabs-btn"),featuresSlides=document.querySelectorAll(".features__slider-item");featuresTabs.forEach(function(e,a){e.addEventListener("click",function(){for(var e=0;e<featuresTabs.length;e++)featuresTabs[e].classList.remove("features__tabs-item--current"),featuresTabsBtn[e].classList.remove("features__tabs-btn--active"),featuresSlides[e].classList.remove("features__slider-item--visible");featuresTabs[a].classList.add("features__tabs-item--current"),featuresTabsBtn[a].classList.add("features__tabs-btn--active"),featuresSlides[a].classList.add("features__slider-item--visible")})});var contactsMap=document.querySelector(".contacts__map"),modalMap=document.querySelector(".modal-map");contactsMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal--visible")});var storageName,storageEmail,contactsForm=document.querySelector(".contacts__btn"),modalForm=document.querySelector(".modal-form"),form=modalForm.querySelector(".modal-form__form"),formName=form.querySelector("[name=name]"),formEmail=form.querySelector("[name=email]"),formText=form.querySelector("[name=text]"),isStorageSupport=!0;try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactsForm.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.add("modal--visible"),(storageName||storageEmail)&&(formName.value=storageName,formEmail.value=storageEmail),formName.focus()}),form.addEventListener("submit",function(e){formName.value&&formEmail.value&&formText.value?isStorageSupport&&(localStorage.setItem("name",formName.value),localStorage.setItem("email",formEmail.value)):(e.preventDefault(),modalForm.classList.remove("modal--invalid"),modalForm.offsetWidth=modalForm.offsetWidth,modalForm.classList.add("modal--invalid"))});var closeMapBtn=document.querySelector(".modal__close-btn--map");closeMapBtn.addEventListener("click",function(){modalMap.classList.remove("modal--visible")});var closeFormBtn=document.querySelector(".modal__close-btn--form");closeFormBtn.addEventListener("click",function(){modalForm.classList.remove("modal--visible"),modalForm.classList.contains("modal--invalid")&&modalForm.classList.remove("modal--invalid")}),window.addEventListener("keydown",function(e){27==e.keyCode&&(modalMap.classList.contains("modal--visible")&&modalMap.classList.remove("modal--visible"),modalForm.classList.contains("modal--visible")&&(modalForm.classList.remove("modal--visible"),modalForm.classList.contains("modal--invalid")&&modalForm.classList.remove("modal--invalid")))});